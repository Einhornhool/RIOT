# configuration file for run.py
boards:
  - "nrf52840dk"

profiles:
  aes-cbc-bl-cc:
    dir_path: "../baseline"
    config: "../baseline/app.config.test.cryptocell ../baseline/app.config.test.random"
    label: "CryptoCell 310"
    flags: "-DCRYPTOCELL_CIPHER"
  aes-cbc-psa-cc:
    dir_path: "../aes-cbc"
    config: "../aes-cbc/app.config.test"
    label: "PSA \\& CryptoCell 310"
    flags: ""
  aes-cbc-bl-riot:
    dir_path: "../baseline"
    config: "../baseline/app.config.test.riot ../baseline/app.config.test.random"
    label: "RIOT"
    flags: "-DRIOT_CIPHER"
  aes-cbc-psa-riot:
    dir_path: "../aes-cbc"
    config: "../aes-cbc/app.config.test ../aes-cbc/app.config.test.software"
    label: "PSA \\& RIOT"
    flags: "-DSOFTWARE"
  # hashes-bl-cc:
  #   dir_path: "../baseline"
  #   config: "../baseline/app.config.test.cryptocell"
  #   label: "CryptoCell 310"
  #   flags: "-DCRYPTOCELL_HASHES"
  # hashes-psa-cc:
  #   dir_path: "../hashes"
  #   config: "../hashes/app.config.test"
  #   label: "PSA \\& CryptoCell 310"
  #   flags: ""
  # hashes-bl-riot:
  #   dir_path: "../baseline"
  #   config: "../baseline/app.config.test.riot.hashes"
  #   label: "RIOT"
  #   flags: "-DRIOT_HASHES"
  # hashes-psa-riot:
  #   dir_path: "../hashes"
  #   config: "../hashes/app.config.test ../hashes/app.config.test.software"
  #   label: "PSA \\& RIOT"
  #   flags: "-DSOFTWARE"
  # ecdsa-bl-se:
  #   dir_path: "../baseline"
  #   config: "../baseline/app.config.test.se ../baseline/app.config.test.riot.hashes"
  #   label: "ATECC608A"
  #   flags: "-DSE_ECDSA"
  # ecdsa-psa-se:
  #   dir_path: "../ecdsa-se"
  #   config: "../ecdsa-se/app.config.test ../ecdsa-se/app.config.test.multiple"
  #   label: "PSA \\& ATECC608A"
  #   flags: "-DUSE_MULTIPLE_BACKENDS"
  # ecdsa-bl-cc:
  #   dir_path: "../baseline"
  #   config: "../baseline/app.config.test.cryptocell ../baseline/app.config.test.riot.hashes"
  #   label: "CryptoCell 310"
  #   flags: "-DCC_ECDSA"
  # ecdsa-psa-cc:
  #   dir_path: "../ecdsa_periph"
  #   config: "../ecdsa_periph/app.config.test"
  #   label: "PSA \\& CryptoCell 310"
  #   flags: ""
  # all-backends:
  #   dir_path: "../baseline"
  #   config: "../baseline/app.config.test.cryptocell ../baseline/app.config.test.se ../baseline/app.config.test.random"
  #   label: "All Backends"
  #   flags: "-DCC_ECDSA -DSE_ECDSA -DCRYPTOCELL_HASHES -DCRYPTOCELL_CIPHER"
  # all-backends-psa:
  #   dir_path: "../backend-combination"
  #   config: "../backend-combination/app.config.test"
  #   label: "PSA All Backends"
  #   flags: ""

groups:
  # For now we ignore common OS and DTLS parts
  # ? "RIOT"
  # :
  #   modules:
  #     - ["core"]
  #     - ["boards"]
  #     - ["cpu"]
  #     - ["drivers"]
  #     - ["sys"]
  #     - ["pkg", "wakaama", "core", "er-coap-13"]
  #     - ["pkg", "tinydtls"]
  #     - ["unspecified"]
  #   config:
  #     hatch: "|/"
  #     base: true

  # ? "Cryptoauth Library"
  # :
  #   modules:
  #     - ["pkg", "cryptoauthlib", "contrib"]
  #     - ["sys", "auto_init", "auto_init_security", "auto_init_atca"]
  #     - ["pkg", "cryptoauthlib"]
  #     - ["~", "pkg", "cryptoauthlib", "psa_se_driver"]

  #   config:
  #     hatch: "\\"

  ? "CryptoCell Library"
  :
    modules:
      - ["cpu", "nrf52", "periph", "cryptocell_setup"]
      - ["cpu", "nrf52", "periph", "cryptocell_util"]
      - ["cpu", "nrf52", "cryptocell_lib"]

    config:
      hatch: "."


  ? "RIOT Cipher Module"
  :
    modules:
      - ["sys", "crypto"]
      - ["~", "sys", "crypto", "psa_riot_cipher"]

    config:
      hatch: "-"

  # ? "RIOT Hash Module"
  # :
  #   modules:
  #     - ["sys", "hashes"]
  #     - ["~", "sys", "hashes", "psa_riot_hashes"]

  #   config:
  #     hatch: "+"

  ? "RIOT Random"
  :
    modules:
      - ["sys", "random"]
      # - ["sys", "hashes"]

    config:
      hatch: "\\"

  ? "PSA Crypto Glue Code"
  :
    modules:
      - ["cpu", "nrf52", "periph", "aes_cbc"]
      - ["cpu", "nrf52", "periph", "aes_common"]
      - ["cpu", "nrf52", "periph", "psa_error"]
      - ["cpu", "nrf52", "periph", "hashes_common"]
      - ["cpu", "nrf52", "periph", "hashes_sha256"]
      - ["pkg", "cryptoauthlib", "psa_se_driver"]
      - ["sys", "crypto", "psa_riot_cipher"]
      - ["sys", "hashes", "psa_riot_hashes"]
      - ["sys", "nrf52", "periph", "ecc_common"]
      - ["sys", "nrf52", "periph", "ecc_p256"]

    config:
      color: [0.8, 0.9215686274509803, 0.7725490196078432]
      hatch: "X"

  ? "PSA Crypto"
  :
    modules:
      - ["sys", "psa_crypto"]
      # - ["~", "sys", "psa_crypto", "psa_crypto_slot_management"]
      # - ["cpu", "nrf52", "periph", "aes_cbc"]
      # - ["cpu", "nrf52", "periph", "aes_common"]
      # - ["cpu", "nrf52", "periph", "psa_error"]
      # - ["cpu", "nrf52", "periph", "hashes_common"]
      # - ["cpu", "nrf52", "periph", "hashes_sha512"]
      # - ["pkg", "cryptoauthlib", "psa_se_driver"]
      # - ["sys", "crypto", "psa_riot_cipher"]
      # - ["sys", "hashes", "psa_riot_hashes"]

    config:
      color: [1.0, 0.9294117647058824, 0.43529411764705883]
      hatch: "/"

  # ? "PSA Crypto Key Slot Management"
  # :
  #   modules:
  #     - ["sys", "psa_crypto", "psa_crypto_slot_management"]

  #   config:
  #     hatch: "/"

  # ? "PSA Crypto Driver Wrapper"
  # :
  #   modules:
  #     - ["sys", "psa_crypto", "psa_crypto_location_dispatch"]

  #   config:
  #     hatch: "/"

  # ? "PSA Crypto SE Management"
  # :
  #   modules:
  #     - ["sys", "psa_crypto", "psa_crypto_se_management"]

  #   config:
  #     hatch: "/"

# # some plot configuration
plots:
  config:
    hatch:
      linewidth: 0.5
    label:
      width: 10
