From 308f75b3228f126c33ca247c443e4b9c62ebb0f6 Mon Sep 17 00:00:00 2001
From: Lena Boeckmann <lena.boeckmann@haw-hamburg.de>
Date: Wed, 31 Mar 2021 17:11:29 +0300
Subject: [PATCH 2/4] Add FPU to compiler flag

---
 api-tests/tools/cmake/compiler/GNUARM.cmake | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/api-tests/tools/cmake/compiler/GNUARM.cmake b/api-tests/tools/cmake/compiler/GNUARM.cmake
index 20102e1..87aaa6d 100644
--- a/api-tests/tools/cmake/compiler/GNUARM.cmake
+++ b/api-tests/tools/cmake/compiler/GNUARM.cmake
@@ -58,6 +58,6 @@ elseif(${CPU_ARCH} STREQUAL armv8m_bl)
 	set(TARGET_SWITCH "-march=armv8-m.base -mcmse")
 endif()
 
-set(CMAKE_C_FLAGS          "${TARGET_SWITCH} -g -Wall -Werror -Wextra -fdata-sections -ffunction-sections -mno-unaligned-access")
+set(CMAKE_C_FLAGS          "${TARGET_SWITCH} -g -Wall -Werror -Wextra -fdata-sections -ffunction-sections -mno-unaligned-access -mfloat-abi=hard -mfpu=fpv4-sp-d16")
 set(CMAKE_ASM_FLAGS        "${TARGET_SWITCH} -mthumb")
 set(CMAKE_EXE_LINKER_FLAGS "-Xlinker --fatal-warnings -Xlinker --gc-sections -z max-page-size=0x400 -lgcc -lc -lnosys")
-- 
2.31.0