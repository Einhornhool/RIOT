From 66eaa3217d6a64913bd2f69880afb542021c5762 Mon Sep 17 00:00:00 2001
From: Lena Boeckmann <lena.boeckmann@haw-hamburg.de>
Date: Mon, 19 Apr 2021 21:42:20 +0300
Subject: [PATCH] Add FPU for armv7m

---
 api-tests/tools/cmake/compiler/GNUARM.cmake | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/api-tests/tools/cmake/compiler/GNUARM.cmake b/api-tests/tools/cmake/compiler/GNUARM.cmake
index 20102e1..23de873 100644
--- a/api-tests/tools/cmake/compiler/GNUARM.cmake
+++ b/api-tests/tools/cmake/compiler/GNUARM.cmake
@@ -51,7 +51,7 @@ foreach(_LNG IN ITEMS "C" "ASM")
 endforeach()
 
 if(${CPU_ARCH} STREQUAL armv7m)
-	set(TARGET_SWITCH "-march=armv7-m")
+	set(TARGET_SWITCH "-march=armv7-m -mfloat-abi=hard -mfpu=fpv4-sp-d16")
 elseif(${CPU_ARCH} STREQUAL armv8m_ml)
 	set(TARGET_SWITCH "-march=armv8-m.main -mcmse")
 elseif(${CPU_ARCH} STREQUAL armv8m_bl)
-- 
2.31.1

